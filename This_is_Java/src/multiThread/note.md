### Multi-Thread와 Multi-Process
1. Multi-Process
   - 프로세스들은 서로 독립적이므로 하나의 프로세스에서 오류가 발생하더라도 다른 프로세스에 영향을 미치지 않는다.
   - ex) word와 excel
2. Multi-Thread
   - 스레드들은 하나의 프로세스내부에 생성되기 때문에 하나의 스레드에서 오류가 발생시 프로세스가 종료되기
     다른 스레드에도 영향을 미친다.
   - 카카오톡에서 송금오류
   - 오류 처리가 중요하다

### Main Thread
- 모든 자바 프로그램은 메인 스레드가 main() 메소드를 실행하면서 시작된다.
- 싱글 스레드에서는 메인 스레드가 종료되면 프로세스도 종료된다.
- 멀티 스레드에서는 실행중인 스레드가 하나라도 있다면 프로세스는 종료되지 않는다.


### Thread 상태
1. RUNNABLE(실행 대기 상태)
   - start() 메소드 호출후 실행을 기다리고 있는 상태
   - 실행 대기하는 스레드는 CPU 스케줄링에 따라 CPU를 점유하고 run() 메소드를 실행한다.
2. RUNNING(실행 상태)
   - run() 메서드 실행후 CPU를 점유한 상태
   - run() 메소드를 모두 실행하기 전에 스케줄링에 의해 다시 실행 대기 상태로 돌아갈 수 있다.
   - 스레드는 실행 대기 상태와 실행 상태를 번갈아가며 자신의 run() 메소드를 조금씩 실행해 나간다.
3. TERMINATED(종료 상태)
   - run() 메소드가 종료됬고 더 이상 실행할 코드가 없는 상태
4. 일시 정지 상태
   - 스레드가 실행할 수 없는 상태
   - 일시정지로 보내는 메소드
     - sleep()
     - join()
     - wait()
   - 일시정지에서 벗어나는 메소드
     - interrupt()
     - notify(), notifyAll()
   - 실행 대기로 보냄
     - yield()

### 스레드 동기화
- 하나의 객체에 여러개의 스레드가 접근한다면 의도와는 다른 결과가 나올 수 있다.
- 따라서 java에서는 스레드가 사용중인 객체를 다른 스레드가 변경할 수 없도록
  동기화(synchronized) 메소드와 블럭을 제공한다.
- synchronized 키워드를 붙인다. ex) public synchronized void method() { }

#### wait()와 notify()를 이용한 스레드 제어
- 두 스레드간에 정확한 교대 작업이 필요할 경우, 자신의 작업이 끝나면 일시정지 상태로 들어가고
  상대방 스레드를 일시 정지 상태에서 풀어줄 수 있다.

#### 스레드 안전 종료
1. 반복문중 조건을 이용한 종료
```java
public class XXXThread extends Thread {
    private boolean  stop;
    
    @Override
    public void run() {
        while(!stop) {
            //task
        }
    }
}
```
2. interrupt() 메소드 이용
    - 스레드가 일시 정지 상태에 있을떄 InterruptException 예외를 발생(예외 처리 블럭으로 이동)
   
### Daemon Thread
- 주 스레드의 작업을 돕는 보조적인 역할을 수행하는 스레드
- 주 스레드가 종료되면 데몬 스레드도 같이 종료된다.
- ex) 워드프로세서의 자동 저장, 가비지 컬렉터 등..
- 주 스레드가 데몬이 될 스레드의 setDaemon(true)를 호출

### Thread Pool
- 작업 처리에 사용되는 스레드를 제한된 개수만큼 정해 놓고 작업 큐에 들어오는 작업들을 스레드가 하나씩 맡아 처리하는 방식
